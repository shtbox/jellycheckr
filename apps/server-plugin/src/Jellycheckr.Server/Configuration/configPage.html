<div id="configPage" data-role="page" class="page type-interior pluginPage">
    <div data-role="content">
        <div class="content-primary">
            <h2 class="sectionTitle">Jellycheckr AYSW</h2>
            <p class="sectionDescription">Are You Still Watching? configuration</p>
            <p class="fieldDescription" style="margin-bottom:1em;">
                This plugin is not in the Jellyfin catalog. The repository details warning can be ignored.
            </p>

            <div class="detailSection">
                <iframe
                    id="jellycheckrConfigFrame"
                    title="Jellycheckr configuration"
                    src="/Plugins/Aysw/web/jellycheckr-config-ui-host.html"
                    style="display:block; width:100%; min-height:72vh; height:72vh; border:0; background:transparent; border-radius:12px;"
                    loading="eager">
                </iframe>
            </div>

            <p class="fieldDescription" style="margin-top:.75em;">
                If the embedded UI fails to load, verify <code>/Plugins/Aysw/web/jellycheckr-config-ui-host.html</code>, <code>/Plugins/Aysw/web/jellycheckr-config-ui.js</code>, and <code>/Plugins/Aysw/web/jellycheckr-config-ui.css</code> return HTTP 200.
            </p>
        </div>
    </div>

    <script>
        (function () {
            var frame = document.getElementById('jellycheckrConfigFrame');
            if (!frame) {
                return;
            }

            function syncMinimumHeight() {
                var viewportHeight = window.innerHeight || document.documentElement.clientHeight || 0;
                var nextHeight = Math.max(Math.round(viewportHeight * 0.72), 560);
                frame.style.minHeight = nextHeight + 'px';
                if (!frame.style.height || frame.style.height === '72vh') {
                    frame.style.height = nextHeight + 'px';
                }
            }

            syncMinimumHeight();
            window.addEventListener('resize', syncMinimumHeight);
        })();
    </script>
</div>
